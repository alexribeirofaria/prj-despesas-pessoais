"use strict";(self.webpackChunkangularapp=self.webpackChunkangularapp||[]).push([[76],{490:(L,D,o)=>{o.d(D,{o:()=>Y});var n=o(7222),F=o(3346),p=o.n(F),r=o(8910),E=o(9450),O=o(8612),e=o(7788),P=o(659),y=o(9626),R=o(6610),T=o(5183),f=o(2490),A=o(2802),k=o(8278),U=o(6182),I=o(4587),C=o(1607);const v=s=>({"is-invalid":s}),W=(s,h)=>({"text-danger":s,"":h}),b=(s,h)=>({"error-bi-input":s,"not-error-input":h}),S=()=>({prefix:"R$ ",thousands:".",decimal:","}),B=s=>({disabled:s});function j(s,h){if(1&s&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&s){const _=h.$implicit;e.Y8G("value",_),e.R7$(),e.JRh(_.descricao)}}let Y=(()=>{class s{setRefresh(_){this.refresh=_}constructor(_,g,a,c){this.formbuilder=_,this.modalAlert=g,this.activeModal=a,this.despesaService=c,this.categorias=[],this.action=E.u.Create,this.refresh=()=>{},this.getCatgeoriasFromDespesas=()=>{this.despesaService.getDespesasCategorias().subscribe({next:t=>{t&&(this.categorias=t)},error:t=>{this.modalAlert.open(r.Cy,t,r.vT.Warning)}})},this.onSaveClick=()=>{switch(this.action){case E.u.Create:this.saveCreateDespesa();break;case E.u.Edit:this.saveEditDespesa();break;default:this.modalAlert.open(r.Cy,"A\xe7\xe3o n\xe3o pode ser realizada.",r.vT.Warning)}},this.saveCreateDespesa=()=>{this.despesaService.postDespesa(this.despesaForm.getRawValue()).subscribe({next:t=>{t&&(this.activeModal.close(),this.refresh(),this.modalAlert.open(r.Cy,"Despesa cadastrada com Sucesso.",r.vT.Success))},error:t=>{this.modalAlert.open(r.Cy,t,r.vT.Warning)}})},this.saveEditDespesa=()=>{const t=this.despesaForm.getRawValue();this.despesaService.putDespesa(t).subscribe({next:l=>{null!=l&&(this.activeModal.close(),this.refresh(),this.modalAlert.open(r.Cy,"Despesa alterada com Sucesso.",r.vT.Success))},error:l=>{this.modalAlert.open(r.Cy,l,r.vT.Warning)}})},this.editDespesa=t=>{this.despesaService.getDespesaById(t).subscribe({next:l=>{if(null!=l){const i=l;this.despesaForm.patchValue(i);const d=this.categorias.find(m=>m.id===i.categoria.id);d&&this.despesaForm.get("categoria")?.setValue(d)}},error:l=>{this.modalAlert.open(r.Cy,l,r.vT.Warning)}})},this.deleteDespesa=(t,l)=>{this.despesaService.deleteDespesa(t).subscribe({next:i=>{i?(l(),this.modalAlert.open(r.Cy,"Despesa exclu\xedda com sucesso",r.vT.Success)):this.modalAlert.open(r.Cy,"Erro ao exclu\xedr despesa",r.vT.Warning)},error:i=>{this.modalAlert.open(r.Cy,i,r.vT.Warning)}})}}ngOnInit(){this.getCatgeoriasFromDespesas(),this.despesaForm=this.formbuilder.group({id:[0],categoria:[null,n.k0.required],data:[p()().format("YYYY-MM-DD"),n.k0.required],descricao:["",n.k0.required],valor:[0,[n.k0.required,O.N.isGreaterThanZero]],dataVencimento:null})}static#e=this.\u0275fac=function(g){return new(g||s)(e.rXU(n.ok),e.rXU(r.Cy),e.rXU(P.Lw),e.rXU(y.r6))};static#a=this.\u0275cmp=e.VBU({type:s,selectors:[["app-despesas-form"]],decls:43,vars:38,consts:[["data",""],["dataVencimento",""],[1,"h-100","d-flex","flex-column","table-responsive","flex-grow-1","flex-fill","m-1","p-0","border","border-2","border-dark","rounded-top-2","rounded-bottom-1","overflow-scroll-hidden"],[1,"modal-header","bg-dark","text-light","mt-0","p-2","rounded-top-2","rounded-bottom-0",2,"position","relative","bottom","0.5rem"],[1,"m-0","border-0"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"overflow-y-auto","scroll-content","p-2","pt-0",3,"ngSubmit","formGroup"],["id","id","name","id","formControlName","id","type","hidden",1,"form-control",3,"value"],["appearance","outline","readonly","",1,"w-100","mt-2"],["matInput","","id","categoria","name","categoria","formControlName","categoria",3,"ngClass"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"w-100"],["matInput","","id","data","name","data","formControlName","data","type","text","placeholder","Entre com uma data v\xe1lida",3,"matDatepicker","ngClass"],["matIconSuffix","",3,"for","ngClass"],["touchUi",""],["matInput","","id","descricao","name","descricao","formControlName","descricao","type","text","placeholder","Entre com uma descri\xe7\xe3o",3,"ngClass"],["matSuffix",""],[1,"text-danger","bi","bi-exclamation-circle","position-absolute","mx-2","my-1","top-0","end-0",3,"ngClass"],["matInput","","currencyMask","","id","valor","name","valor","formControlName","valor","type","text","placeholder","Entre com um valor > 0",1,"text-start",3,"options","ngClass"],["matInput","","disablePast","true","data-mdb-toggle","datepicker","id","dataVencimento","name","dataVencimento","formControlName","dataVencimento","type","text","placeholder","Data de Vencimento (opcional)",3,"matDatepicker"],["matIconSuffix","",3,"for"],[1,"input-group","mt-3","d-flex","flex-column","align-items-center","justify-content-center"],["type","submit",1,"btn","btn-primary","w-responsive",3,"ngClass","disabled"],[3,"value"]],template:function(g,a){if(1&g){const c=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"h2",4),e.EFF(3,"Despesas"),e.k0s(),e.j41(4,"button",5),e.bIt("click",function(){return e.eBV(c),e.Njj(a.activeModal.dismiss("Cross click"))}),e.k0s()(),e.j41(5,"form",6),e.bIt("ngSubmit",function(){return e.eBV(c),e.Njj(a.onSaveClick())}),e.nrm(6,"input",7),e.j41(7,"mat-form-field",8)(8,"mat-label"),e.EFF(9,"Categorias"),e.k0s(),e.j41(10,"mat-select",9)(11,"mat-option",10),e.EFF(12,"Nenhuma categoria selecionada"),e.k0s(),e.DNE(13,j,2,2,"mat-option",11),e.k0s()(),e.j41(14,"mat-form-field",12)(15,"mat-label"),e.EFF(16,"Data"),e.k0s(),e.nrm(17,"input",13)(18,"mat-datepicker-toggle",14)(19,"mat-datepicker",15,0),e.k0s(),e.j41(21,"mat-form-field",12)(22,"mat-label"),e.EFF(23,"Descri\xe7\xe3o"),e.k0s(),e.nrm(24,"input",16),e.j41(25,"mat-icon",17),e.nrm(26,"i",18),e.k0s()(),e.j41(27,"mat-form-field",12)(28,"mat-label"),e.EFF(29,"Valor"),e.k0s(),e.nrm(30,"input",19),e.j41(31,"mat-icon",17),e.nrm(32,"i",18),e.k0s()(),e.j41(33,"mat-form-field",12)(34,"mat-label"),e.EFF(35,"Data de Vencimento"),e.k0s(),e.nrm(36,"input",20)(37,"mat-datepicker-toggle",21)(38,"mat-datepicker",null,1),e.k0s(),e.j41(40,"div",22)(41,"button",23),e.EFF(42," Salvar "),e.k0s()()()()}if(2&g){let c,t,l,i,d,m,u;const M=e.sdS(20),G=e.sdS(39);e.R7$(5),e.Y8G("formGroup",a.despesaForm),e.R7$(),e.Y8G("value",0),e.R7$(4),e.Y8G("ngClass",e.eq3(18,v,(null==(c=a.despesaForm.get("categoria"))||null==c.errors?null:c.errors.required)&&(null==(c=a.despesaForm.get("categoria"))?null:c.touched))),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",a.categorias),e.R7$(4),e.Y8G("matDatepicker",M)("ngClass",e.eq3(20,v,(null==(t=a.despesaForm.get("data"))||null==t.errors?null:t.errors.required)&&(null==(t=a.despesaForm.get("data"))?null:t.touched))),e.R7$(),e.Y8G("for",M)("ngClass",e.l_i(22,W,(null==(l=a.despesaForm.get("data"))?null:l.hasError("required"))&&(null==(l=a.despesaForm.get("data"))?null:l.touched),!(null!=(l=a.despesaForm.get("data"))&&l.hasError("required")&&null!=(l=a.despesaForm.get("data"))&&l.touched))),e.R7$(6),e.Y8G("ngClass",e.eq3(25,v,(null==(i=a.despesaForm.get("descricao"))||null==i.errors?null:i.errors.required)&&(null==(i=a.despesaForm.get("descricao"))?null:i.touched))),e.R7$(2),e.Y8G("ngClass",e.l_i(27,b,(null==(d=a.despesaForm.get("descricao"))?null:d.hasError("required"))&&(null==(d=a.despesaForm.get("descricao"))?null:d.touched),!(null!=(d=a.despesaForm.get("descricao"))&&d.hasError("required")&&null!=(d=a.despesaForm.get("descricao"))&&d.touched))),e.R7$(4),e.Y8G("options",e.lJ4(30,S))("ngClass",e.eq3(31,v,((null==(m=a.despesaForm.get("valor"))||null==m.errors?null:m.errors.required)||(null==(m=a.despesaForm.get("valor"))||null==m.errors?null:m.errors.greaterThanZero))&&(null==(m=a.despesaForm.get("valor"))?null:m.touched))),e.R7$(2),e.Y8G("ngClass",e.l_i(33,b,(null==(u=a.despesaForm.get("valor"))?null:u.hasError("required"))&&(null==(u=a.despesaForm.get("valor"))?null:u.touched),!((null!=(u=a.despesaForm.get("valor"))&&u.hasError("required")||null!=(u=a.despesaForm.get("valor"))&&u.hasError("greaterThanZero"))&&null!=(u=a.despesaForm.get("valor"))&&u.touched))),e.R7$(4),e.Y8G("matDatepicker",G),e.R7$(),e.Y8G("for",G),e.R7$(4),e.Y8G("ngClass",e.eq3(36,B,!a.despesaForm.valid))("disabled",!a.despesaForm.valid)}},dependencies:[R.YU,R.Sq,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,T.Jf,f.rl,f.nJ,f.yw,A.VO,k.wT,U.An,I.fg,C.Vh,C.bZ,C.bU],styles:[".error-bi-input[_ngcontent-%COMP%]{display:inline}.not-error-input[_ngcontent-%COMP%]{display:none}.cdk-overlay-container[_ngcontent-%COMP%]{z-index:1999}.mat-datepicker-toggle-default-icon[_ngcontent-%COMP%]{color:red;border:2px;border-color:red;-webkit-text-decoration-color:red;text-decoration-color:red}"]})}return s})()},125:(L,D,o)=>{o.d(D,{O:()=>Y});var n=o(7222),F=o(3346),p=o.n(F),r=o(8910),E=o(9450),O=o(8612),e=o(7788),P=o(659),y=o(9626),R=o(6610),T=o(5183),f=o(2490),A=o(2802),k=o(8278),U=o(6182),I=o(4587),C=o(1607);const v=s=>({"is-invalid":s}),W=(s,h)=>({"text-danger":s,"":h}),b=(s,h)=>({"error-bi-input":s,"not-error-input":h}),S=()=>({prefix:"R$ ",thousands:".",decimal:","}),B=s=>({disabled:s});function j(s,h){if(1&s&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&s){const _=h.$implicit;e.Y8G("value",_),e.R7$(),e.JRh(_.descricao)}}let Y=(()=>{class s{setRefresh(_){this.refresh=_}constructor(_,g,a,c){this.formbuilder=_,this.modalAlert=g,this.activeModal=a,this.receitaService=c,this.categorias=[],this.action=E.u.Create,this.refresh=()=>{},this.onSaveClick=()=>{switch(this.action){case E.u.Create:this.saveCreateReceita();break;case E.u.Edit:this.saveEditReceita();break;default:this.modalAlert.open(r.Cy,"A\xe7\xe3o n\xe3o pode ser realizada.",r.vT.Warning)}},this.getCatgeoriasFromReceitas=()=>{this.receitaService.getReceitasCategorias().subscribe({next:t=>{t&&(this.categorias=t)},error:t=>{this.modalAlert.open(r.Cy,t,r.vT.Warning)}})},this.saveCreateReceita=()=>{this.receitaService.postReceita(this.receitaForm.getRawValue()).subscribe({next:t=>{t&&(this.activeModal.close(),this.refresh(),this.modalAlert.open(r.Cy,"Receita cadastrada com Sucesso.",r.vT.Success))},error:t=>{this.modalAlert.open(r.Cy,t,r.vT.Warning)}})},this.saveEditReceita=()=>{this.receitaService.putReceita(this.receitaForm.getRawValue()).subscribe({next:t=>{null!=t&&t&&(this.activeModal.close(),this.refresh(),this.modalAlert.open(r.Cy,"Receita alterada com Sucesso.",r.vT.Success))},error:t=>{this.modalAlert.open(r.Cy,t,r.vT.Warning)}})},this.editReceita=t=>{this.receitaService.getReceitaById(t).subscribe({next:l=>{if(l&&null!=l){const i=l;this.receitaForm.patchValue(i);const d=this.categorias.find(m=>m.id===i.categoria.id);d&&this.receitaForm.get("categoria")?.setValue(d)}},error:l=>{this.modalAlert.open(r.Cy,l,r.vT.Warning)}})},this.deleteReceita=(t,l)=>{this.receitaService.deleteReceita(t).subscribe({next:i=>{i?(l(),this.modalAlert.open(r.Cy,"Receita exclu\xedda com sucesso",r.vT.Success)):this.modalAlert.open(r.Cy,"Erro ao exclu\xedr receita",r.vT.Warning)},error:i=>{this.modalAlert.open(r.Cy,i,r.vT.Warning)}})}}ngOnInit(){this.getCatgeoriasFromReceitas(),this.receitaForm=this.formbuilder.group({id:[0],categoria:[null,n.k0.required],data:[p()().format("YYYY-MM-DD"),n.k0.required],descricao:["",n.k0.required],valor:[0,[n.k0.required,O.N.isGreaterThanZero]]})}static#e=this.\u0275fac=function(g){return new(g||s)(e.rXU(n.ok),e.rXU(r.Cy),e.rXU(P.Lw),e.rXU(y.DE))};static#a=this.\u0275cmp=e.VBU({type:s,selectors:[["app-receitas-form"]],decls:36,vars:36,consts:[["data",""],[1,"h-100","d-flex","flex-column","table-responsive","flex-grow-1","flex-fill","m-1","p-0","border","border-2","border-dark","rounded-top-2","rounded-bottom-1","overflow-scroll-hidden"],[1,"modal-header","bg-dark","text-light","mt-0","p-2","rounded-top-2","rounded-bottom-0",2,"position","relative","bottom","0.5rem"],[1,"m-0","border-0"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"overflow-y-auto","scroll-content","p-2","pt-0",3,"ngSubmit","formGroup"],["id","id","name","id","formControlName","id","type","hidden",1,"form-control",3,"value"],["appearance","outline","readonly","",1,"w-100","mt-2",3,"ngClass"],["matInput","","id","categoria","name","categoria","formControlName","categoria"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"w-100"],["matInput","","id","data","name","data","formControlName","data","type","text","placeholder","Entre com uma data v\xe1lida",3,"matDatepicker","ngClass"],["matIconSuffix","",3,"for","ngClass"],["touchUi",""],["matInput","","id","descricao","name","descricao","formControlName","descricao","type","text","placeholder","Entre com uma descri\xe7\xe3o",3,"ngClass"],["matSuffix",""],[1,"text-danger","bi","bi-exclamation-circle","position-absolute","mx-2","my-1","top-0","end-0",3,"ngClass"],["matInput","","currencyMask","","id","valor","name","valor","formControlName","valor","type","text","placeholder","Entre com um valor > 0",1,"text-start",3,"options","ngClass"],[1,"input-group","mt-3","d-flex","flex-column","align-items-center","justify-content-center"],["type","submit",1,"btn","btn-primary","w-responsive",3,"ngClass","disabled"],[3,"value"]],template:function(g,a){if(1&g){const c=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"h2",3),e.EFF(3,"Receitas"),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){return e.eBV(c),e.Njj(a.activeModal.dismiss("Cross click"))}),e.k0s()(),e.j41(5,"form",5),e.bIt("ngSubmit",function(){return e.eBV(c),e.Njj(a.onSaveClick())}),e.nrm(6,"input",6),e.j41(7,"mat-form-field",7)(8,"mat-label"),e.EFF(9,"Categorias"),e.k0s(),e.j41(10,"mat-select",8)(11,"mat-option",9),e.EFF(12,"Nenhuma categoria selecionada"),e.k0s(),e.DNE(13,j,2,2,"mat-option",10),e.k0s()(),e.j41(14,"mat-form-field",11)(15,"mat-label"),e.EFF(16,"Data"),e.k0s(),e.nrm(17,"input",12)(18,"mat-datepicker-toggle",13)(19,"mat-datepicker",14,0),e.k0s(),e.j41(21,"mat-form-field",11)(22,"mat-label"),e.EFF(23,"Descri\xe7\xe3o"),e.k0s(),e.nrm(24,"input",15),e.j41(25,"mat-icon",16),e.nrm(26,"i",17),e.k0s()(),e.j41(27,"mat-form-field",11)(28,"mat-label"),e.EFF(29,"Valor"),e.k0s(),e.nrm(30,"input",18),e.j41(31,"mat-icon",16),e.nrm(32,"i",17),e.k0s()(),e.j41(33,"div",19)(34,"button",20),e.EFF(35," Salvar "),e.k0s()()()()}if(2&g){let c,t,l,i,d,m,u;const M=e.sdS(20);e.R7$(5),e.Y8G("formGroup",a.receitaForm),e.R7$(),e.Y8G("value",0),e.R7$(),e.Y8G("ngClass",e.eq3(16,v,(null==(c=a.receitaForm.get("categoria"))||null==c.errors?null:c.errors.required)&&(null==(c=a.receitaForm.get("categoria"))?null:c.touched))),e.R7$(4),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",a.categorias),e.R7$(4),e.Y8G("matDatepicker",M)("ngClass",e.eq3(18,v,(null==(t=a.receitaForm.get("data"))||null==t.errors?null:t.errors.required)&&(null==(t=a.receitaForm.get("data"))?null:t.touched))),e.R7$(),e.Y8G("for",M)("ngClass",e.l_i(20,W,(null==(l=a.receitaForm.get("data"))?null:l.hasError("required"))&&(null==(l=a.receitaForm.get("data"))?null:l.touched),!(null!=(l=a.receitaForm.get("data"))&&l.hasError("required")&&null!=(l=a.receitaForm.get("data"))&&l.touched))),e.R7$(6),e.Y8G("ngClass",e.eq3(23,v,(null==(i=a.receitaForm.get("descricao"))||null==i.errors?null:i.errors.required)&&(null==(i=a.receitaForm.get("descricao"))?null:i.touched))),e.R7$(2),e.Y8G("ngClass",e.l_i(25,b,(null==(d=a.receitaForm.get("descricao"))?null:d.hasError("required"))&&(null==(d=a.receitaForm.get("descricao"))?null:d.touched),!(null!=(d=a.receitaForm.get("descricao"))&&d.hasError("required")&&null!=(d=a.receitaForm.get("descricao"))&&d.touched))),e.R7$(4),e.Y8G("options",e.lJ4(28,S))("ngClass",e.eq3(29,v,((null==(m=a.receitaForm.get("valor"))||null==m.errors?null:m.errors.required)||(null==(m=a.receitaForm.get("valor"))||null==m.errors?null:m.errors.greaterThanZero))&&(null==(m=a.receitaForm.get("valor"))?null:m.touched))),e.R7$(2),e.Y8G("ngClass",e.l_i(31,b,(null==(u=a.receitaForm.get("valor"))?null:u.hasError("required"))&&(null==(u=a.receitaForm.get("valor"))?null:u.touched),!((null!=(u=a.receitaForm.get("valor"))&&u.hasError("required")||null!=(u=a.receitaForm.get("valor"))&&u.hasError("greaterThanZero"))&&null!=(u=a.receitaForm.get("valor"))&&u.touched))),e.R7$(2),e.Y8G("ngClass",e.eq3(34,B,!a.receitaForm.valid))("disabled",!a.receitaForm.valid)}},dependencies:[R.YU,R.Sq,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,T.Jf,f.rl,f.nJ,f.yw,A.VO,k.wT,U.An,I.fg,C.Vh,C.bZ,C.bU],styles:[".error-bi-input[_ngcontent-%COMP%]{display:inline}.not-error-input[_ngcontent-%COMP%]{display:none}.cdk-overlay-container[_ngcontent-%COMP%]{z-index:1999}.mat-datepicker-toggle-default-icon[_ngcontent-%COMP%]{color:red;border:2px;border-color:red;-webkit-text-decoration-color:red;text-decoration-color:red}"]})}return s})()},9450:(L,D,o)=>{o.d(D,{u:()=>n,L:()=>F});var n=function(p){return p.Create="create",p.Edit="edit",p}(n||{}),F=function(p){return p[p.Todos=0]="Todos",p[p.Despesas=1]="Despesas",p[p.Receitas=2]="Receitas",p}(F||{})}}]);