"use strict";(self.webpackChunkangularapp=self.webpackChunkangularapp||[]).push([[719],{6719:(x,f,r)=>{r.r(f),r.d(f,{ConfiguracoesModule:()=>G});var d=r(6610),u=r(7415),e=r(7788),w=r(2710),P=r(7487),S=r(4077),l=r(7222),t=r(8910),g=r(9626);const p=a=>({disabled:a});function F(a,E){1&a&&(e.j41(0,"span",14),e.EFF(1,"Escolha uma nova imagem."),e.k0s())}function I(a,E){1&a&&(e.j41(0,"span",15),e.EFF(1,"Nova imagem carregada com sucesso!"),e.k0s())}let U=(()=>{class a{constructor(s,i){this.imagemPerfilService=s,this.modalAlert=i,this.file=null,this.fileLoaded=!1,this.imagemPerfilUsuario={url:"../../../../assets/perfil_static.png"},this.initialize=()=>{this.imagemPerfilService.getImagemPerfilUsuario().subscribe({next:n=>{n&&null!=n&&""!==n.url&&null!=n.url&&(this.imagemPerfilUsuario=n)},error:n=>{this.modalAlert.open(t.Cy,n,t.vT.Warning)}})},this.handleAvatarUpload=n=>{const o=n.target.files?.[0];o&&(this.file=o,this.imagemPerfilUsuario.url=URL.createObjectURL(o),this.fileLoaded=!0)},this.handleImagePerfil=()=>{null!==this.file?null==this.imagemPerfilUsuario.id?this.imagemPerfilService.createImagemPerfilUsuario(this.file).subscribe({next:n=>{n&&(this.file=null,this.fileLoaded=!1,this.imagemPerfilUsuario=n,this.modalAlert.open(t.Cy,"Imagem adicionada com sucesso!",t.vT.Success))},error:n=>{this.modalAlert.open(t.Cy,n,t.vT.Warning)}}):this.imagemPerfilService.updateImagemPerfilUsuario(this.file).subscribe({next:n=>{n&&(this.file=null,this.fileLoaded=!1,this.imagemPerfilUsuario=n,this.modalAlert.open(t.Cy,"Imagem de perfil usu\xe1rio alterada com sucesso!",t.vT.Success))},error:n=>{this.modalAlert.open(t.Cy,n,t.vT.Warning)}}):this.modalAlert.open(t.Cy,"\xc9 preciso carregar uma nova imagem!",t.vT.Warning)},this.handleDeleteImagePerfil=()=>{this.imagemPerfilService.deleteImagemPerfilUsuario().subscribe({next:n=>{n&&this.modalAlert.open(t.Cy,"Imagem de perfil usu\xe1rio exclu\xedda com sucesso!",t.vT.Success).shown.subscribe(()=>{this.file=null,this.fileLoaded=!1,this.imagemPerfilUsuario=null,this.imagemPerfilUsuario={url:"../../../../assets/perfil_static.png"}})},error:n=>{this.modalAlert.open(t.Cy,n,t.vT.Warning)}})},this.formAvatar=new l.gE({uploadPhoto:new l.MJ(null)})}ngOnInit(){this.initialize()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(g.GR),e.rXU(t.Cy))};static#n=this.\u0275cmp=e.VBU({type:a,selectors:[["app-change-avatar"]],inputs:{handleAvatarUploaded:"handleAvatarUploaded"},decls:19,vars:11,consts:[[1,"flex-fill","flex-grow-1","flex-fill","border","border-2","border-top-0","border-dark","rounded-top-2","rounded-bottom-2"],[1,"bg-dark","w-100","d-flex","flex-column","align-items-center","justify-content-center","rounded-top-2",2,"position","relative","bottom","0.1rem"],[1,"text-white","m-2"],[1,"d-flex","flex-row","justify-content-center","align-items-center","p-2"],[1,"text-center","border","border-primary","border-2","rounded-4","p-2"],["for","upload-photo"],["id","imagemPerilAvatar","alt","Imagem do perfil","width","64","height","64",1,"rounded-circle","me-2",3,"src"],["style","color: red; margin-bottom: 1em",4,"ngIf"],["style","color: green; margin-bottom: 1em",4,"ngIf"],["id","upload-photo","name","upload-photo","type","file","accept",".png, .jpg, .jpeg",2,"display","none",3,"change"],[1,"d-flex","flex-column","w-25"],[1,"m-2"],[1,"btn","btn-primary","w-responsive",3,"click","ngClass","disabled"],[1,"btn","btn-warning","w-responsive",3,"click","ngClass","disabled"],[2,"color","red","margin-bottom","1em"],[2,"color","green","margin-bottom","1em"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Imagem de Perfil"),e.k0s()(),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.nrm(7,"img",6),e.k0s(),e.nrm(8,"br"),e.DNE(9,F,2,0,"span",7)(10,I,2,0,"span",8),e.j41(11,"input",9),e.bIt("change",function(m){return n.handleAvatarUpload(m)}),e.k0s()(),e.j41(12,"div",10)(13,"div",11)(14,"button",12),e.bIt("click",function(){return n.handleImagePerfil()}),e.EFF(15," Salvar "),e.k0s()(),e.j41(16,"div",11)(17,"button",13),e.bIt("click",function(){return n.handleDeleteImagePerfil()}),e.EFF(18," Excluir "),e.k0s()()()()()),2&i&&(e.R7$(7),e.Y8G("src",n.imagemPerfilUsuario.url,e.B4B),e.R7$(2),e.Y8G("ngIf",!n.fileLoaded),e.R7$(),e.Y8G("ngIf",n.fileLoaded),e.R7$(4),e.Y8G("ngClass",e.eq3(7,p,!n.fileLoaded))("disabled",!n.fileLoaded),e.R7$(3),e.Y8G("ngClass",e.eq3(9,p,void 0===n.imagemPerfilUsuario.id))("disabled",void 0===n.imagemPerfilUsuario.id))},dependencies:[d.YU,d.bT]})}return a})();var C=r(6182),c=r(2490),b=r(4587);const v=a=>({"is-invalid":a}),A=a=>({disabled:a});let T=(()=>{class a{constructor(s,i,n){this.formbuilder=s,this.controleAcessoService=i,this.modalAlert=n,this.eyeIconClass="bi-eye",this.eyeIconClassConfirmaSenha="bi-eye",this.showSenha=!1,this.showConfirmaSenha=!1,this.initialize=()=>{this.changePasswordFrom=this.formbuilder.group({senha:["",[l.k0.required]],confirmaSenha:["",[l.k0.required]]})},this.onSaveClick=()=>{this.controleAcessoService.changePassword(this.changePasswordFrom.getRawValue()).subscribe({next:o=>{o&&(this.initialize(),this.modalAlert.open(t.Cy,"Senha alterada com sucesso!",t.vT.Success))},error:o=>{this.modalAlert.open(t.Cy,o,t.vT.Warning)}})}}ngOnInit(){this.initialize()}onToogleSenha(){this.showSenha=!this.showSenha,this.eyeIconClass="bi-eye"===this.eyeIconClass?"bi-eye-slash":"bi-eye"}onToogleConfirmaSenha(){this.showConfirmaSenha=!this.showConfirmaSenha,this.eyeIconClassConfirmaSenha="bi-eye"===this.eyeIconClassConfirmaSenha?"bi-eye-slash":"bi-eye"}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(l.ok),e.rXU(g.Ag),e.rXU(t.Cy))};static#n=this.\u0275cmp=e.VBU({type:a,selectors:[["app-change-password"]],decls:20,vars:19,consts:[[1,"flex-fill","flex-grow-1","flex-fill","border","border-2","border-top-0","border-dark","rounded-top-2","rounded-bottom-2"],[1,"bg-dark","w-100","d-flex","flex-column","align-items-center","justify-content-center","rounded-top-2",2,"position","relative","bottom","0.1rem"],[1,"text-white","m-2"],["no-validate","",1,"form-content","m-2",3,"submit","formGroup"],["appearance","outline","readonly","",1,"w-100","mt-2"],["matInput","","id","senha","name","senha","formControlName","senha","type","password","placeholder","Senha",1,"form-control",3,"type","ngClass"],["matSuffix",""],[1,"position-fixed",3,"click","ngClass"],["appearance","outline",1,"w-100"],["matInput","","id","confirmaSenha","name","confirmaSenha","formControlName","confirmaSenha","type","password","placeholder","Confirme a senha",1,"form-control",3,"type","ngClass"],[1,"input-group","mt-3","w-100","text-center","justify-content-center"],["type","submit","disabled","","data-mdb-ripple-init","",1,"btn","btn-primary","w-25","w-responsive",3,"ngClass","disabled"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Senha de Acesso"),e.k0s()(),e.j41(4,"form",3),e.bIt("submit",function(){return n.onSaveClick()}),e.j41(5,"mat-form-field",4)(6,"mat-label"),e.EFF(7,"Senha"),e.k0s(),e.nrm(8,"input",5),e.j41(9,"mat-icon",6)(10,"i",7),e.bIt("click",function(){return n.onToogleSenha()}),e.k0s()()(),e.j41(11,"mat-form-field",8)(12,"mat-label"),e.EFF(13,"Confirma Senha"),e.k0s(),e.nrm(14,"input",9),e.j41(15,"mat-icon",6)(16,"i",7),e.bIt("click",function(){return n.onToogleConfirmaSenha()}),e.k0s()()(),e.j41(17,"div",10)(18,"button",11),e.EFF(19," Salvar "),e.k0s()()()()),2&i){let o,m,y,h;e.R7$(4),e.Y8G("formGroup",n.changePasswordFrom),e.R7$(4),e.Y8G("type",n.showSenha?"text":"password")("ngClass",e.eq3(13,v,(null==(o=n.changePasswordFrom.get("senha"))||null==o.errors?null:o.errors.required)&&(null==(o=n.changePasswordFrom.get("senha"))?null:o.touched))),e.R7$(2),e.AVh("text-danger",(null==(m=n.changePasswordFrom.get("senha"))?null:m.hasError("required"))&&(null==(m=n.changePasswordFrom.get("senha"))?null:m.touched)),e.Y8G("ngClass",n.eyeIconClass),e.R7$(4),e.Y8G("type",n.showConfirmaSenha?"text":"password")("ngClass",e.eq3(15,v,!n.changePasswordFrom.get("confirmaSenha").valid&&(null==(y=n.changePasswordFrom.get("confirmaSenha"))?null:y.touched))),e.R7$(2),e.AVh("text-danger",(null==(h=n.changePasswordFrom.get("confirmaSenha"))?null:h.hasError("required"))&&(null==(h=n.changePasswordFrom.get("confirmaSenha"))?null:h.touched)),e.Y8G("ngClass",n.eyeIconClassConfirmaSenha),e.R7$(2),e.Y8G("ngClass",e.eq3(17,A,!n.changePasswordFrom.valid))("disabled",!n.changePasswordFrom.valid)}},dependencies:[d.YU,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,C.An,c.rl,c.nJ,c.yw,b.fg],styles:[".error-bi-input[_ngcontent-%COMP%]{display:inline}.not-error-input[_ngcontent-%COMP%]{display:none}"]})}return a})();const j=[{path:"",component:(()=>{class a{constructor(s){this.menuService=s,this.menuService.setMenuSelecionado(7)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(w.$1))};static#n=this.\u0275cmp=e.VBU({type:a,selectors:[["app-configuracoes"]],decls:7,vars:0,consts:[[1,"flex-grow-0","bg-info","w-100"],[1,"h-100","d-flex","flex-column","flex-grow-1","flex-fill","m-1","p-2","border","border-2","border-primary","rounded-4","overflow-scroll-hidden","overflow-y-auto"]],template:function(i,n){1&i&&(e.j41(0,"app-layout")(1,"div",0),e.nrm(2,"app-barra-ferramenta"),e.k0s(),e.j41(3,"div",1),e.nrm(4,"app-change-avatar")(5,"br")(6,"app-change-password"),e.k0s()())},dependencies:[P.C,S.t,U,T],styles:[".full-height[_ngcontent-%COMP%]{height:100%}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}.tituloHeader[_ngcontent-%COMP%]{color:#e0ffff}.menu-select[_ngcontent-%COMP%]{background:#27ae60!important;border-radius:.4rem;border-color:#e0ffff;box-sizing:1rem;cursor:pointer}"]})}return a})()}];let k=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[u.iI.forChild(j),u.iI]})}return a})();var R=r(5917);let G=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[d.MD,l.X1,k,C.m_,c.RG,b.fS,R.G]})}return a})()}}]);